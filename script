pipeline {
    agent any
    stages{
        stage("Cleaning stage"){
            steps{
                echo "In Stage Clean"
                bat "mvn clean"
            }
        }
        stage("Testing stage"){
            steps{
                echo "In Stage Test"
                bat "mvn test"
            }
        }
        stage("Packaging stage"){
            steps{
                echo "In Stage Package"
                bat "mvn package"
            }
        }
        stage("Consolidate Results"){
            steps{
                input 'do you want to capture results?'
                junit '**/target/surefire-reports/TEST-*.xml'
                archive 'target/*.jar'
            }
        }
        stage("Email"){
            mail bcc: '', body: '''test

..''', cc: '', from: '', replyTo: '', subject: 'simple test', to: 'te415606@gmail.com'
        }
    }
}
